define("jquery underscore app/utils/utils app/utils/tracking text!app/template/main.html app/view/accueilView app/view/contactView app/view/newsView app/view/livresView app/view/salonsView app/view/moiView app/view/consultView app/view/liseuseView app/view/panierView".split(" "),function(b,d,f,c,g,h,k,l,e,m,n,p,q,r,s){return function(){this.init=function(){c.push("Connexion au site");this.el=b("#app");var a=this;f.load("list","",function(b){0===b.codeRetour&&(a.livres=b.livres,a.render())},"GET")};
this.render=function(){d.templateSettings.variable="data";var a=d.template(g);this.el.html(a({}));this.chargeAccueil();this.gereMenu();this.panier=new r;this.consultation=new p(this);this.liseuse=new q;this.makeEvents()};this.chargeAccueil=function(){this.accueil||(this.accueil=new h(this));this.accueil.show()};this.chargeNews=function(){c.push("Chargement des news");this.news||(this.news=new l(this));this.news.show()};this.chargeLivres=function(){c.push("Chargement des livres");this.listLivre||(this.listLivre=
new e(this));this.listLivre.show()};this.chargeGratuits=function(){c.push("Chargement des oeuvres gratuites");this.listGratuit||(this.listGratuit=new e(this,!0));this.listGratuit.show()};this.chargeSalons=function(){c.push("Chargement des salons");this.salons||(this.salons=new m(this));this.salons.show()};this.chargeMoi=function(){c.push("Chargement de la biographie");this.moi||(this.moi=new n(this));this.moi.show()};this.chargeContact=function(){c.push("Chargement des contacts");this.contact||(this.contact=
new k(this));this.contact.show()};this.gereMenu=function(){var a=this;b("#accueil").click(function(){a.chargeAccueil()});b("#news").click(function(){a.chargeNews()});b("#livres").click(function(){a.chargeLivres()});b("#gratuit").click(function(){a.chargeGratuits()});b("#salons").click(function(){a.chargeSalons()});b("#qui").click(function(){a.chargeMoi()});b("#contact").click(function(){a.chargeContact()})};this.consult=function(a){c.push("Consultation du livre : "+a.titre);this.consultation.show(a)};
this.lecture=function(a){c.push("Lecture du livre gratuit : "+a.titre);this.liseuse.show(a)};this.makeEvents=function(){b(".link").click(function(){c.push("Click sur le lien : "+b(this).attr("title"))})};this.init()}});